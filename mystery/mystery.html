<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <link rel="shortcut icon" href="/Images/favicondet.png" type="image/x-icon">
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
        <link rel="stylesheet" href="/mystery/mystery.css" />
        <link rel="stylesheet" href="/mystery/code-area.css">
        <title>Mystery 1</title>
    </head>
    <body>
        <main>
            <div class="prog-container">
                <div class="code-container">
                    <div class="top-bar">
                        <span>mystery-solver.exe</span>
                        <div>
                            <button onclick="resetLevel()">Reset level&nbsp;<i class="fa-solid fa-rotate-left"></i></button>
                                    <button onclick="submitCode()">Submit code&nbsp;<i class="fa-solid fa-play"></i></button>
                        </div>
                    </div>
                    <div class="editor-container">
                        <pre class="highlight"><code id="highlighted"></code></pre>
                        <textarea id="editor" spellcheck="false"></textarea>
                      </div>
                    <!-- <textarea name="" id="code-area"></textarea> -->
                </div>
                <div class="console-container">
                    <p>Console</p>
                    <div id="console">Montie&apos;s-terminal></div>
                </div>
            </div>
            <div class="story-container">
                <a id="home-button" href="/index.html" title="Go back home"></a>
                <div id="story">
                    <h3 id="story-chapter"></h3>
                    <h3 id="story-type"></h3>
                    <h1 id="story-title"></h1>
                    <p id="story-content"></p>
                    <h2 id="story-challenge"></h2>
                </div>
                <div id="relevant-docs-container">
                    <h4>Relevant documentation</h4>
                    <div id="relevant-docs">
                    </div>
                    <p>*levels are saved automatically</p>
                </div>
                
            </div>
        </main>

        <div id="popup">
            <div id="popup-content">
                <p id="popup-text"></p>
                <button onclick="nextChapter()">Next chapter</button>
            </div>
        </div>

        <script src="/env.js"></script>
        <script src="/mystery/syntaxHighlighting.js"></script>
        <script src="/mystery/mystery.js"></script>
        <audio id="bgMusic" autoplay loop>
            <source src="../Sound Effects/challenge1.mp3" type="audio/mpeg">
            Your browser does not support the audio element.
        </audio>
        <script>
            const bgMusic = document.getElementById('bgMusic');
            bgMusic.volume = 0.5; // Set volume to 50%
            bgMusic.play().catch(error => {
                console.error('Error playing audio:', error);
            });
        </script>
    </body>
</html>
